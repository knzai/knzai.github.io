<!DOCTYPE html>
<html lang="en">
    <head>
      <title>Kenzi Connor: Exporting a Google Doc into a PDF in a Github Action</title>
<meta name="description" content="Basically just a wget call">
<!-- posts/gdoc-pdf-export -->
<!-- Open Graph Tiles -->
<meta property="og:title" content="Kenzi Connor: Exporting a Google Doc into a PDF in a Github Action">
<meta property="og:description" content="Basically just a wget call">
<meta property="og:image" content="https://knz.ai/assets/images/me.jpg" />
<meta name="twitter:title" content="Kenzi Connor: Exporting a Google Doc into a PDF in a Github Action">
<meta name="twitter:description" content="Basically just a wget call">
<meta name="twitter:image" content="https://knz.ai/assets/images/me.jpg">

<!-- Open Graph Tiles; static -->
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@knzconnor" />
<meta name="twitter:creator" content="@knzconnor" />
<meta property="twitter:domain" content="knz.ai">
      
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<!-- Enable responsiveness on mobile devices-->
<!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">
      
  <link rel="icon" href="/assets/images/walle-female.svg">

<!-- CSS -->
<link rel="stylesheet" href="https://knz.ai/print.css" media="print">
<link rel="stylesheet" href="https://knz.ai/poole.css">
<link rel="stylesheet" href="https://knz.ai/hyde.css">
<link rel="stylesheet" href="https://knz.ai/styles.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
      <link rel="alternate" type="application/atom+xml" title="actual human Atom Feed" href="https://knz.ai/atom.xml" />
      <link rel="alternate" type="application/rss+xml" title="actual human RSS Feed" href="https://knz.ai/rss.xml" />
    </head>
    <body class="theme-base-08 layout-reverse">
      <div class="sidebar">
        
          <div class="container sidebar-sticky">
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item active">posts</li><li class="sidebar-nav-item">
      <a href="https:&#x2F;&#x2F;knz.ai&#x2F;projects&#x2F;" class=>projects</a></li><li class="sidebar-nav-item">
      <a href="https:&#x2F;&#x2F;knz.ai&#x2F;about&#x2F;" class=>about</a></li>
  <li class="sidebar-nav-item">
      <a href="https:&#x2F;&#x2F;knz.ai&#x2F;resume&#x2F;" class=>resume</a></li>

</ul>
  <div class="sidebar-about">
    
        <a href="https:&#x2F;&#x2F;knz.ai"><h1>actual human</h1></a>
        
        <p class="lead">Staff Software Engineer - VP Engineering - Director of Engineering - CEO &amp; CTO</p>
        
    
  </div>
  <ul class="sidebar-nav">
      
      <li class="sidebar-nav-item"><a rel="me" href="https:&#x2F;&#x2F;github.com&#x2F;knzai">GitHub</a></li>
      
      <li class="sidebar-nav-item"><a rel="me" href="https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;knzai&#x2F;">LinkedIn</a></li>
      
      <li class="sidebar-nav-item"><a rel="me" href="mailto:site@knz.ai">site@knz.ai</a></li>
      
      <li class="sidebar-nav-item"><a rel="me" href="https:&#x2F;&#x2F;tech.lgbt&#x2F;@knzai">Mastadon</a></li>
      
  </ul>
</div>
        
      </div>
      <div class="content container">
        
	
<div class="breadcrumb-container">
    
    
      
      
        <a class="breadcrumb-path" href="https:&#x2F;&#x2F;knz.ai&#x2F;">knz.ai</a>
      
      <span class="breadcrumb-separator">></span>
    
      
      
        <a class="breadcrumb-path" href="https:&#x2F;&#x2F;knz.ai&#x2F;posts&#x2F;">posts</a>
      
      <span class="breadcrumb-separator">></span>
    
    
    
      gdoc-pdf-export
    
</div>


	<div class="post gdoc-pdf-export">
  
  
  <h2 class="post-title">
    <a href="https:&#x2F;&#x2F;knz.ai&#x2F;posts&#x2F;gdoc-pdf-export&#x2F;" id="Exporting a Google Doc into a PDF in a Github Action">Exporting a Google Doc into a PDF in a Github Action</a>: <span class="post-description">Basically just a wget call</span>
  </h2>

  <span class="post-date">2024-07-09</span>
  
    <p>ETA: this, of course, I then rolled into a <a href="https://knz.ai/projects/ggdrive/">bash script with way too nice of usage()* for a few-liner</a>.  [*bash convention for the help function]</p>
<p>It turns out that grabbing the current pdf export of my resume during zola build was even easier than <a href="https://knz.ai/posts/cleaning-gdocs/">cleaning the Google HTML</a>. Once you've setup the Google API keys it's basically one wget (which is already installed on their ubuntu runner) call.</p>
<pre data-lang="yml" style="background-color:#2b303b;color:#c0c5ce;" class="language-yml "><code class="language-yml" data-lang="yml"><span>- </span><span style="color:#bf616a;">name</span><span>: </span><span style="color:#a3be8c;">download pdf
</span><span>  </span><span style="color:#bf616a;">shell</span><span>: </span><span style="color:#a3be8c;">bash
</span><span>  </span><span style="color:#bf616a;">run</span><span>: &quot;</span><span style="color:#a3be8c;">wget -O &#39;tmp.pdf&#39; --user-agent=&#39;github.com/knzai&#39; </span><span style="color:#96b5b4;">\
</span><span style="color:#a3be8c;">    &#39;https://www.googleapis.com/drive/v2/files/${{vars.GOOGLE_FILE_ID}}</span><span style="color:#96b5b4;">\
</span><span style="color:#a3be8c;">    /export?mimeType=application/pdf&amp;key=${{secrets.GOOGLE_API_KEY}}&#39;</span><span>&quot;
</span><span>- </span><span style="color:#bf616a;">name</span><span>: </span><span style="color:#a3be8c;">replace pdf with newer, if valid (over 30k)
</span><span>  </span><span style="color:#bf616a;">shell</span><span>: </span><span style="color:#a3be8c;">bash
</span><span>  </span><span style="color:#bf616a;">run</span><span>: </span><span style="color:#b48ead;">|
</span><span style="color:#a3be8c;">    if [ $(du -k &#39;tmp.pdf&#39; | cut -f1) -gt 30 ]; then
</span><span style="color:#a3be8c;">      mv tmp.pdf static/assets/Kenzi\ Connor\ Resume.pdf
</span><span style="color:#a3be8c;">    else
</span><span style="color:#a3be8c;">      exit 1
</span><span style="color:#a3be8c;">    fi
</span></code></pre>

  
</div>

      </div>
    </body>
</html>
